(()=>{var e={362:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n,o=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},r=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};class s{constructor(e){this.gapi=void 0,this.then=e=>(s["#LIFECYCLE"].success=e,this),this.catch=e=>(s["#LIFECYCLE"].error=e,this),this.afterGapiMounted=e=>(s["#LIFECYCLE"].afterGapiMounted=e,this),this.afterGapiClientMounted=e=>(s["#LIFECYCLE"].afterGapiClientMounted=e,this),this.oAuthSignedIn=e=>(s["#LIFECYCLE"].oAuthSignedIn=e,this),this.oAuthSignedOut=e=>(s["#LIFECYCLE"].oAuthSignedOut=e,this),this.afterOAuthSigned=e=>(s["#LIFECYCLE"].afterOAuthSigned=e,this),this.auth=function(){const e=this;return{get isSignedIn(){const{gapi:t}=e;let i=!1;try{i=t.auth2.getAuthInstance().isSignedIn.get()}catch(e){console.log("[isSignedIn] - Unready init")}return i},signin(){const{gapi:t}=e;if(this.isSignedIn)return Promise.reject("Already signed in");try{const e=t.auth2.getAuthInstance().signIn();return Promise.resolve(e)}catch(e){return Promise.reject(e)}},signout(){const{gapi:t}=e;if(!this.isSignedIn)return Promise.reject("Already signed out");try{const e=t.auth2.getAuthInstance().signOut();return Promise.resolve(e)}catch(e){return Promise.reject(e)}},get getUserProfile(){const{gapi:t}=e;if(!this.isSignedIn)return Promise.reject(!1);try{const e=t.auth2.getAuthInstance().currentUser.get().getBasicProfile();return Promise.resolve({id:e.getId(),name:e.getName(),giveName:e.getGivenName(),familyName:e.getFamilyName(),image:e.getImageUrl(),email:e.getEmail()})}catch(e){return Promise.reject("[getUserProfile] - Error when get user profile")}}}}.bind(this)(),n.set(this,(function(){return new Promise((e,t)=>o(this,void 0,void 0,(function*(){const i=this;(yield function(){return o(this,void 0,void 0,(function*(){return"https:"===window.location.protocol||(window.location.href="https:"+window.location.href.substring(window.location.protocol.length),!1)}))}())||t("Not https");var n;(yield(n=s["#GAPI"],new Promise((e,t)=>{const i=document.createElement("script");i.type="text/javascript";try{i.onload=function(i){void 0!==window.gapi?e(!0):t(!1)},i.onerror=()=>{t(!1)},i.src=n,document.getElementsByTagName("head")[0].appendChild(i)}catch(e){t(!1)}})).then(()=>(s["#LIFECYCLE"].afterGapiMounted(window.gapi),this.gapi=window.gapi,!0)).catch(()=>!1))||t("Gapi is not loaded");(yield function(){return o(this,void 0,void 0,(function*(){const{gapi:e}=i;return yield new Promise((t,i)=>{e.load("client",()=>{e&&e.client?t(!0):i(!1)})}).then(()=>(s["#LIFECYCLE"].afterGapiClientMounted(i.gapi.client),!0)).catch(()=>!1)}))}())||t("Error when loading client from gapi ");(yield(()=>o(this,void 0,void 0,(function*(){return yield new Promise((e,t)=>{const n=this.gapi.client,o=s["#GOAUTH_CONFIG"];n.init({apiKey:o.apiKey,clientId:o.clientID,scope:o.scopes.join(" "),discoveryDocs:o.discoveryDocs}).then(()=>{const{auth2:t}=i.gapi,n=function(e){if(e){const e=t.getAuthInstance().currentUser.get().getBasicProfile(),i=e.getEmail(),n=e.getId();s["#LIFECYCLE"].oAuthSignedIn({guid:n,gmail:i})}else s["#LIFECYCLE"].oAuthSignedOut();s["#LIFECYCLE"].afterOAuthSigned(e)};t.getAuthInstance().isSignedIn.listen(e=>{n(e)}),Promise.resolve(t.getAuthInstance()).then(()=>{const i=t.getAuthInstance().isSignedIn.get();n(i),i||t.getAuthInstance().signIn(),e(!0)})}).catch(e=>{t("An error occurred when loading gapi.client.oAuth")})})})))())||t("Error when loading gapi.client.auth"),e(!0)})))})),s["#GAPI"]=""+e.gapiPath,s["#GOAUTH_CONFIG"].apiKey=e.oAuthConfig.apiKey,s["#GOAUTH_CONFIG"].clientID=e.oAuthConfig.clientID,s["#GOAUTH_CONFIG"].discoveryDocs=e.oAuthConfig.discoveryDocs,s["#GOAUTH_CONFIG"].scopes=e.oAuthConfig.scopes,r(this,n,"f").call(this).then(()=>{s["#LIFECYCLE"].success()}).catch(e=>{s["#LIFECYCLE"].error(e)})}}n=new WeakMap,s["#LIFECYCLE"]={afterGapiMounted:e=>{},afterGapiClientMounted:e=>{},oAuthSignedIn:e=>{},oAuthSignedOut:()=>{},afterOAuthSigned:e=>{},success:()=>{},error:e=>{}},s["#GOAUTH_CONFIG"]={apiKey:"",clientID:"",discoveryDocs:[],scopes:[]};const a=s}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(362)})();
//# sourceMappingURL=fryan.goauth.min.js.map